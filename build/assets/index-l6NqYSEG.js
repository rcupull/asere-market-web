import{r as d,j as e,b8 as L,n as C,b as P,g as S,w as b,c as G,v as R,bo as z,bg as be,aG as k,Q as je,bp as ve,aF as W,x as B,B as j,aJ as Ce,bq as ye,u as oe,b9 as se,k as I,M as Be,O as te,t as Ne,K as we,bi as ke,d as ae,_ as re,y as ie,f as Ae,br as Pe,S as Se,N as Oe}from"./index-ih0eSx80.js";import{T as Ee}from"./index-EJzszR5P.js";import{B as q}from"./index-TYx6HqPn.js";import{I as ce,B as le}from"./index-8hchy7Y-.js";import{I as J}from"./index-Oc-iVceo.js";import{u as Me}from"./useUpdateOneBusiness-pno-eXXt.js";import{B as ue}from"./index-vInJ5WVt.js";import{R as Q,T as K,B as Z,a as X,g as de}from"./date-Og264Mni.js";import{u as Fe}from"./useGetAllPosts-__Z8YCdD.js";import{u as Re}from"./index-ZCjJ8GOH.js";import{F as D}from"./index-SWQFTGmj.js";import{P as Ie,u as me}from"./index-b7vcoc-g.js";import{R as ne,a as _e,u as Te}from"./index-ezD7gpb8.js";import{u as pe,a as Ue}from"./index-PEFSUcyH.js";import{u as Le}from"./useInfinityScrolling-LFWilrnL.js";import{u as qe}from"./index-xolsbqEV.js";import{u as Ve}from"./index-z-Te5FDw.js";import{u as $e}from"./index-L7ZaB9Qp.js";import"./index-WbMGdbre.js";import"./radio-group-R5jNLVFN.js";import"./description-8TzrVJh3.js";import"./label-5zIu1i7p.js";import"./form-Ycfp73ce.js";function He({title:s,titleId:t,...o},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},o),s?d.createElement("title",{id:t},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const De=d.forwardRef(He),Ge=De;function ze({title:s,titleId:t,...o},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},o),s?d.createElement("title",{id:t},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const We=d.forwardRef(ze),Je=We;function Qe({title:s,titleId:t,...o},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},o),s?d.createElement("title",{id:t},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Ke=d.forwardRef(Qe),Ze=Ke;function Xe({title:s,titleId:t,...o},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},o),s?d.createElement("title",{id:t},s):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ye=d.forwardRef(Xe),es=Ye,Y=s=>e.jsx(L,{svg:Je,title:"Opciones",...s}),he=({className:s})=>e.jsx(Ge,{className:C("!text-gray-700",s)}),ge=s=>e.jsx(L,{svg:he,title:"Ver la página",...s}),ss=()=>{const s=P();return{removeOneBusiness:{data:s[0],status:s[1],fetch:({routeName:t},o={})=>{s[2]({method:"delete",url:S({path:"/business/:routeName",urlParams:{routeName:t}})},o)},reset:s[3]}}},ts=({business:s,onRefresh:t})=>{const{routeName:o,hidden:n}=s,{pushModal:a}=b(),{pushRoute:r}=G(),{onCallAfar:l}=R(),c=()=>{a("Confirmation",{useProps:()=>{const{onClose:i}=b(),{updateOneBusiness:h}=Me();return{className:"max-w-lg",content:n?"Visualizar el negocio tambien mostrará todas las publicaciones qiue estaban visibles antes de ocultar el mismo. ¿Seguro que desea visualizar el negocio?":"Ocultar el negocio ocultará tambien todas las publicaciones del negocio. ¿Seguro que desea ocultar?",badge:e.jsx(B,{variant:"error"}),primaryBtn:e.jsx(j,{label:n?"Mostrar":"Ocultar",variant:n?"primary":"error",onClick:()=>{h.fetch({routeName:o,update:{hidden:!n}},{onAfterSuccess:()=>{t(),l(k.getAllUserBussiness),i()}})}})}}},{emergent:!0})},m=()=>{a("Confirmation",{useProps:()=>{const{removeOneBusiness:i}=ss(),{onClose:h}=b();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al eliminar este negocio seran borradas todas las imágenes y datos asociados al mismo de manera ",e.jsx("span",{className:"font-bold",children:"permanente"}),". Seguro que desea eliminar este negocio?"]})}),badge:e.jsx(B,{variant:"error"}),primaryBtn:e.jsx(q,{isBusy:i.status.isBusy,onClick:()=>i.fetch({routeName:o},{onAfterSuccess:()=>{t(),l(k.getAllUserBussiness),r("/dashboard/business"),h()}})})}}},{emergent:!0})},p=e.jsx(z,{className:"sm:hidden",buttonElement:e.jsx(Y,{}),items:[{label:`${n?"Mostrar":"Ocultar"} este negocio`,onClick:c,svg:({className:i})=>e.jsx(be,{hidden:n,className:i})},{label:"Editar el negocio",onClick:()=>{a("BusinessNew",{routeName:o,callAfarResources:[k.getAllUserBussiness,k.redirect_to_dashboard_business_routename]})},svg:je},{label:"Ver la página de este negocio",onClick:()=>r(`/${o}`),svg:he},{label:"Eliminar el negocio",onClick:m,svg:ve}]}),g=e.jsxs("div",{className:"items-center hidden sm:flex",children:[e.jsx(W,{title:"Eliminar el negocio",onClick:m}),e.jsx(ce,{hidden:n,title:`${n?"Mostrar":"Ocultar"} este negocio`,onClick:c}),e.jsx(J,{title:"Editar el negocio",onClick:()=>{a("BusinessNew",{routeName:o,callAfarResources:[k.getAllUserBussiness,k.redirect_to_dashboard_business_routename]})}}),e.jsx(ge,{title:"Ver la página de este negocio",onClick:()=>{r(`/${o}`)}})]});return e.jsxs(e.Fragment,{children:[p,g]})},ns=()=>{const s=P();return{deleteManyPosts:{data:s[0],status:s[1],fetch:({routeName:t,query:o,ids:n},a={})=>{s[2]({method:"delete",url:S({path:"/posts/bulkActions/delete"}),data:{ids:n,query:o,routeName:t}},a)},reset:s[3]}}},os=()=>{const s=P();return{updateManyPosts:{data:s[0],status:s[1],fetch:({routeName:t,ids:o,update:n,query:a},r={})=>{s[2]({method:"put",url:S({path:"/posts/bulkActions/update"}),data:{ids:o,query:a,update:n,routeName:t}},r)},reset:s[3]}}},as=({business:s,children:t,onRefresh:o,filters:n})=>{const[a,r]=d.useState(),[l,c]=d.useState([]),[m,p]=d.useState(!1),g=a!==void 0,i=m||l.length>0,{pushModal:h}=b();if(!s)return e.jsx(e.Fragment,{});const{routeName:f}=s,O=u=>({delete:"Eliminar publicaciones",hide:"Ocultar publicaciones",show:"Mostrar publicaciones"})[u],_=()=>{o(),p(!1),c([]),r(void 0)},V=()=>{h("Confirmation",{useProps:()=>{const{deleteManyPosts:u}=ns(),{onClose:x}=b();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al eliminar estas publicaciones seran borradas todas las imágenes y datos asociados a las mismas de manera ",e.jsx("span",{className:"font-bold",children:"permanente"}),". Seguro que desea eliminar estas publicaciones?"]})}),badge:e.jsx(B,{variant:"error"}),primaryBtn:e.jsx(q,{isBusy:u.status.isBusy,onClick:()=>{const v=()=>{x(),_()},{postCategoriesMethod:y,postCategoriesTags:M,search:F}=n;if(m)return u.fetch({routeName:f,query:{postCategoriesMethod:y,postCategoriesTags:M,search:F}},{onAfterSuccess:v});if(l.length>0)return u.fetch({routeName:f,query:{postCategoriesMethod:y,postCategoriesTags:M,search:F},ids:l.map(U=>U._id)},{onAfterSuccess:v})}})}}},{emergent:!0})},T=u=>{h("Confirmation",{useProps:()=>{const{updateManyPosts:x}=os(),{onClose:v}=b();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al ",`${u?"ocultar":"mostrar"}`," no se perderá ningun dato delas mismas. Solo se controla la visibilidad en la página de su negocio Seguro que desea"," ",`${u?"ocultar":"mostrar"}`," estas publicaciones?"]})}),badge:e.jsx(B,{variant:"warning"}),primaryBtn:e.jsx(le,{isBusy:x.status.isBusy,label:u?"Ocultar":"Mostrar",onClick:()=>{const y=()=>{v(),_()},{postCategoriesMethod:M,postCategoriesTags:F,search:U}=n;if(m)return x.fetch({routeName:f,update:{hidden:u},query:{postCategoriesMethod:M,postCategoriesTags:F,search:U}},{onAfterSuccess:y});if(l.length>0)return x.fetch({routeName:f,update:{hidden:u},query:{postCategoriesMethod:M,postCategoriesTags:F,search:U},ids:l.map(fe=>fe._id)},{onAfterSuccess:y})}})}}},{emergent:!0})},$=u=>({delete:V,hide:()=>T(!0),show:()=>T(!1)})[u],H=e.jsx("div",{className:"flex items-center gap-2",children:g?e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"outlined",label:"Cancelar acción",onClick:()=>{p(!1),c([]),r(void 0)}}),i&&e.jsx(j,{variant:"outlined",label:O(a),onClick:$(a)})]}):e.jsx(z,{buttonElement:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{}),e.jsx("span",{className:"ml-2",children:" Acciones múltiples"})]}),items:[{label:"Eliminar",onClick:()=>r("delete")},{label:"Ocultar",onClick:()=>r("hide")},{label:"Mostrar",onClick:()=>r("show")}]})}),N=(u,x)=>u._id===x._id,E=u=>!!l.find(x=>N(u,x))||m,w=u=>l.findIndex(x=>N(u,x));return e.jsx(e.Fragment,{children:t({getBulkTopActionsNode:u=>e.jsxs("div",{className:"flex items-center",children:[H,e.jsxs("div",{className:"ml-auto relative",children:[u,g&&e.jsx("div",{className:"absolute inset-0 bg-white opacity-60 rounded-md cursor-not-allowed"})]})]}),getBulkHeaderNodes:u=>g?[e.jsx(D,{noUseFormik:!0,value:m,onChange:x=>{c([]),p(x.target.checked)},label:e.jsx("span",{className:"text-nowrap -mr-[20rem]",children:"Todos"})},"checkbox"),...u]:u,getBulkRowNodes:({rowData:u},x)=>g?[e.jsx(D,{noUseFormik:!0,value:E(u),onChange:v=>{v.target.checked?c([...l,u]):c(Ce(l,w(u)))}},"checkbox"),...x.map((v,y)=>e.jsxs("div",{className:"relative",children:[v,e.jsx("div",{className:"absolute inset-0 bg-white opacity-60 rounded-md cursor-not-allowed"})]},y))]:x})})},rs=({business:s,onChange:t,value:o,className:n})=>{var g;const{postCategoriesTags:a}=o||{},{postCategories:r,layouts:l}=s||{},[c,m]=d.useState("categories"),p=((g=l==null?void 0:l.posts)==null?void 0:g.sections)||[];return e.jsxs("div",{className:n,children:[e.jsx("div",{children:e.jsx(ne,{onChange:i=>{t==null||t({page:1,postCategoriesTags:void 0,postCategoriesMethod:void 0}),m(i)},value:c,renderOption:({checked:i,item:h})=>e.jsx(D,{noUseFormik:!0,value:i,label:h.label}),optionToValue:({value:i})=>i,items:[{label:"Filtrar por categorías",value:"categories"},{label:"Filtrar por grupos",value:"section"}],className:"flex items-center gap-2 mb-5"})}),c==="categories"&&e.jsx(Ie,{postCategories:r,onChange:i=>t==null?void 0:t({page:1,postCategoriesTags:i,postCategoriesMethod:"every"}),value:a,type:"wrapped"}),c==="section"&&e.jsx(ne,{onChange:i=>t==null?void 0:t({page:1,postCategoriesTags:i,postCategoriesMethod:"some"}),items:p,renderOption:({checked:i,item:h})=>e.jsx(j,{label:h.name,variant:i?"primary":"outlined"}),optionToValue:({postCategoriesTags:i})=>i,className:"flex items-center gap-2"})]})},is=({postId:s,onAfterSuccess:t,...o})=>{const{updateOnePost:n}=pe();return e.jsx(ye,{isBusy:n.status.isBusy,onChange:a=>{n.fetch({postId:s,stockAmount:a},{onAfterSuccess:t})},...o})},cs=({className:s})=>e.jsx(Ze,{className:C("!text-green-800",s)}),ls=s=>e.jsx(L,{svg:cs,title:"Duplicar",...s}),us=()=>{const s=P(),{authData:t}=oe(),o=(t==null?void 0:t.user._id)||"<unknow user>";return{duplicateOnePost:{data:s[0],status:s[1],fetch:({postId:n},a={})=>{s[2]({method:"post",url:S({path:"/posts/:postId/duplicate",urlParams:{userId:o,postId:n}})},a)},reset:s[3]}}},ds=()=>{const s=P(),{authData:t}=oe(),o=(t==null?void 0:t.user._id)||"<unknow user>";return{removeOnePost:{data:s[0],status:s[1],fetch:({id:n},a={})=>{s[2]({method:"delete",url:S({path:"/posts/:id",urlParams:{id:n,userId:o}})},a)},reset:s[3]}}},ms=({rowData:s,callAfarResources:t,routeName:o})=>{const{pushModal:n}=b(),{pushRoute:a}=G(),{onCallAfar:r}=R(),l=()=>{n("Confirmation",{useProps:()=>{const{removeOnePost:i}=ds(),{onClose:h}=b(),{onCallAfar:f}=R();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al eliminar esta publicación seran borradas todas las imágenes y datos asociados al mismo de manera ",e.jsx("span",{className:"font-bold",children:"permanente"}),". Seguro que desea eliminar esta publicación?"]})}),badge:e.jsx(B,{variant:"warning"}),primaryBtn:e.jsx(q,{isBusy:i.status.isBusy,onClick:()=>i.fetch({id:s._id},{onAfterSuccess:()=>{h(),f(t)}})})}}},{emergent:!0})},c=i=>{n("Confirmation",{useProps:()=>{const{updateOnePost:h}=pe(),{onClose:f}=b(),{onCallAfar:O}=R();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al ",`${i?"ocultar":"mostrar"}`," esta publicación no serán perdidos los datos de la misma. Solo se controla la visibilidad en la página de su negocio. Seguro que desea ",`${i?"ocultar":"mostrar"}`," esta publicación?"]})}),badge:e.jsx(B,{variant:"warning"}),primaryBtn:e.jsx(le,{isBusy:h.status.isBusy,label:i?"Ocultar":"Mostrar",onClick:()=>h.fetch({postId:s._id,hidden:i},{onAfterSuccess:()=>{f(),O(t)}})})}}},{emergent:!0})},{duplicateOnePost:m}=us(),p=()=>{m.fetch({postId:s._id},{onAfterSuccess:()=>{r(t)}})},g=()=>{n("PostNew",{postId:s._id,callAfarResources:t})};return e.jsxs(e.Fragment,{children:[e.jsx(z,{buttonElement:e.jsx(Y,{}),items:[{label:"Eliminar",onClick:l},{label:s.hidden?"Mostrar":"Ocultar",onClick:()=>c(!s.hidden)},{label:"Editar",onClick:g},{label:"Duplicar",onClick:p},{label:"Ver",onClick:()=>a(se({routeName:o,postId:s._id}))}],className:"sm:hidden"}),e.jsxs(Q,{className:"hidden sm:flex",children:[e.jsx(W,{onClick:l}),e.jsx(ce,{hidden:s.hidden,onClick:()=>c(!s.hidden)}),e.jsx(J,{onClick:g}),e.jsx(ls,{onClick:p,isBusy:m.status.isBusy}),e.jsx(ge,{stopPropagation:!0,onClick:()=>a(se({routeName:o,postId:s._id}))})]})]})},ps=s=>{const{value:t,preMap:o}=s;let n=t;return o&&(n=n==null?void 0:n.map(o)),n==null?void 0:n.map((a,r)=>e.jsx("div",{className:"text-nowrap border border-gray-500 rounded-2xl px-1 text-center w-fit m-0.5",children:a},r))},hs=s=>e.jsx("div",{className:"flex flex-col gap-1",children:s.map(({label:t,value:o},n)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"font-bold text-nowrap",children:t}),o&&e.jsx("div",{className:"ml-2 text-nowrap",children:o})]},n))}),ee={mapToOutlinedBox:ps,keyValueList:hs},xe=({business:s})=>{const{postCategories:t=[]}=s||{},o=d.useMemo(()=>(t||[]).reduce((n,{tag:a,label:r})=>({...n,[a]:r}),{}),[JSON.stringify(t)]);return{onGetTableCellNode:({postCategoriesTags:n})=>e.jsx("div",{className:"flex flex-col",children:ee.mapToOutlinedBox({value:n,preMap:a=>o[a]})},"categories")}},gs=({routeName:s})=>{const{getAllPosts:t}=Fe(),{pushModal:o}=b(),n=I(),a=Le({fetchPaginatedResources:t,onFetch:({page:p})=>r.onMergeFilters({page:p})}),r=Re({onChange:p=>t.fetch({includeHidden:!0,routeNames:[s],...p})});d.useEffect(()=>{r.onRefresh()},[]);const{isNotValidPostsCountByBussines:l}=Be(),c="dashboard_business_route-name_posts_onRefresh";R(c,()=>{r.onMergeFilters({page:1},{forceFetch:!0})});const m=xe({business:n.business});return e.jsx("div",{className:"h-full flex flex-col",children:e.jsx(as,{business:n.business,onRefresh:()=>r.onMergeFilters({page:1},{forceFetch:!0}),filters:r.value,children:({getBulkHeaderNodes:p,getBulkRowNodes:g,getBulkTopActionsNode:i})=>{var h;return e.jsxs(e.Fragment,{children:[i(e.jsxs(K,{children:[e.jsx(ue,{label:"Nueva publicación",needPremium:l((h=t.data)==null?void 0:h.length),onClick:()=>o("PostNew",{callAfarResources:c}),className:"ml-auto"}),e.jsx(Z,{onClick:r.onRefresh,isBusy:t.status.isBusy})]})),e.jsx(te,{className:"!my-3"}),e.jsx(rs,{business:n.business,onChange:f=>r.onMergeFilters(f),value:r.value}),e.jsx(te,{className:"!my-3"}),e.jsx(X,{className:"!max-h-[calc(100vh-25rem)]",heads:p([null,"Nombre","Categorías","Imágen","Fecha de Creación","Detalles"]),getRowProps:f=>{const{_id:O,name:_,createdAt:V,currency:T,price:$,postCategoriesTags:H,hidden:N,images:E,stockAmount:w}=f,u=E==null?void 0:E[0];return{className:C({"bg-gray-100":N}),nodes:g({rowData:f},[e.jsx(ms,{rowData:f,routeName:s,callAfarResources:c},"RowActions"),_,m.onGetTableCellNode({postCategoriesTags:H}),u?e.jsx("img",{src:Ne(u.src),className:"object-contain w-10 h-10"}):"ninguna",de({date:V,showTime:!0}),ee.keyValueList([{label:e.jsx("span",{className:C({"text-red-500":N}),children:`${N?"Oculta":"Visible"}`}),value:null},{label:"Precio",value:`${$} ${T}`},{label:e.jsx("span",{className:C({"text-red-500":w===0}),children:"Stock"}),value:we(w)?e.jsx(is,{value:w,postId:O,onAfterSuccess:r.onRefresh,className:C({"border-2 rounded-lg border-red-500":w===0})}):e.jsx("span",{className:"text-red-500",children:"Desabilitada"})}])])}},data:a.tableData,onScrollBottom:a.onScrollBottom,isBusy:t.status.isBusy})]})}})})},xs=({rowData:s,routeName:t})=>{const{pushModal:o}=b(),{business:n,onFetch:a}=I(),r=()=>{o("Confirmation",{useProps:()=>{const m=qe(n),{onClose:p}=b();return{content:e.jsx("div",{children:e.jsxs("span",{children:["Al eliminar este grupo solo serán borrados los datos asociados al mismo de forma"," ",e.jsx("span",{className:"font-bold",children:"permanente"}),". Las publicaciones"," ",e.jsx("span",{className:"font-bold",children:"no"})," serán eliminadas. Seguro que desea eliminar este grupo?"]})}),badge:e.jsx(B,{variant:"error"}),primaryBtn:e.jsx(q,{isBusy:m.status.isBusy,onClick:()=>{m.removePostsLayoutSection({sectionId:s._id},{onAfterSuccess:()=>{a({routeName:t}),p()}})}})}}},{emergent:!0})},l=me(),c=()=>{l.open({sectionId:s._id})};return e.jsxs(Q,{children:[e.jsx(W,{onClick:r}),e.jsx(J,{onClick:c})]})},fs=({routeName:s})=>{var l,c;const{business:t,onFetch:o}=I(),n=((c=(l=t==null?void 0:t.layouts)==null?void 0:l.posts)==null?void 0:c.sections)||[],a=xe({business:t}),r=me();return e.jsxs(e.Fragment,{children:[e.jsxs(K,{children:[e.jsx(ue,{label:"Nuevo grupo",onClick:()=>{r.open()},className:"ml-auto"}),e.jsx(Z,{onClick:()=>o({routeName:s})})]}),e.jsx(X,{heads:[null,"Nombre","Categorías","Visible en","Búsqueda"],getRowProps:m=>{const{name:p,postCategoriesTags:g,hiddenName:i,searchLayout:h,showIn:f}=m;return{nodes:[e.jsx(xs,{rowData:m,routeName:s},"RowActions"),e.jsxs("div",{className:"flex flex-col",children:[p,i&&e.jsx("span",{className:"text-red-500",children:"(nombre oculto)"})]},p),a.onGetTableCellNode({postCategoriesTags:g}),ee.mapToOutlinedBox({value:f}),h&&ke(h)]}},data:n})]})},bs=()=>{const s=P();return{getShoppingOwner:{data:s[0],status:s[1],fetch:(t,o={})=>{s[2]({method:"get",url:S({path:"/shopping/owner",query:t})},o)},reset:s[3]}}},js=s=>e.jsx(L,{svg:es,title:"Ver detalles",...s}),vs=ae(()=>re(()=>import("./Component-Na6olI55.js"),__vite__mapDeps([0,1,2,3])).then(s=>({default:s.Component}))),Cs=()=>{const{pushModal:s}=b();return{open:t=>{s("Emergent",{useProps:()=>{const{shopping:o}=t;return{title:"Detalles de la compra",content:e.jsx(vs,{shopping:o}),customBtn:e.jsx(ie,{className:"ml-auto"})}}},{emergent:!0})}}},ys=({rowData:s})=>{const t=Cs();return e.jsx(Q,{children:e.jsx(js,{onClick:()=>t.open({shopping:s})})})},Bs=({routeName:s})=>{const{getShoppingOwner:t}=bs(),o=()=>t.fetch({routeName:s});return d.useEffect(()=>{o()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(K,{children:e.jsx(Z,{onClick:()=>o(),className:"ml-auto",isBusy:t.status.isBusy})}),e.jsx(X,{heads:[null,"User","Estado","Fecha de creación"],getRowProps:n=>{const{state:a,createdAt:r,purchaserName:l}=n;return{nodes:[e.jsx(ys,{rowData:n},"RowActions"),l,a,de({date:r,showTime:!0})]}},data:t.data,isBusy:t.status.isBusy})]})},A=({title:s,action:t,className:o,description:n})=>e.jsxs("div",{className:C("mt-4 w-full",o),children:[e.jsx("h2",{className:"text-xl bg-gray-200 mt-3 mb-2 p-2 rounded-sm",children:s}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-justify px-6",children:n}),t]})]}),Ns=ae(()=>re(()=>import("./Component-6ENBWncc.js"),__vite__mapDeps([4,1,2,5,6])).then(s=>({default:s.Component}))),ws=()=>{const{pushModal:s}=b();return{open:()=>{s("Emergent",{useProps:()=>{const t=Ae();return{title:"Logo",content:e.jsx(Ns,{portal:t}),secondaryBtn:e.jsx(ie,{}),primaryBtn:e.jsx("div",{ref:t.ref})}}},{emergent:!0})}}},ks=()=>{const s=_e(),t=$e(),o=Ve(),n=ws(),a=Te(),r=Ue(),{onFetch:l,business:c}=I();return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Informaciones básicas",description:"Configure los link de las redes sociales de su negocio, contacto de whatsapp y demás.",action:e.jsx(j,{label:"Editar",onClick:()=>s.open({onAfterSuccess:()=>{c&&l({routeName:c==null?void 0:c.routeName})}})})}),e.jsx(A,{title:"Formulario",description:"Formulario",action:e.jsx(j,{label:"Editar",onClick:()=>r.open({onAfterSuccess:()=>{c&&l({routeName:c==null?void 0:c.routeName})}})})}),e.jsx(A,{title:"Banner",description:e.jsxs("div",{children:["Los anuncios de banner pueden ser anuncios estáticos o dinámicos que se posicionan estratégicamente en un sitio web para captar la atención de los consumidores. A través de la publicidad de banner, las marcas pueden promocionar su marca así como alentar a los espectadores a visitar otros sitios web de interés."," ",e.jsx("a",{className:"hyperlink",href:"https://advertising.amazon.com/es-mx/library/guides/banner-advertising",children:"En este enlace"})," ","puedes encontrar más información relacionada con la correcta utilización de los banners publicitarios."]}),action:e.jsx(j,{label:"Editar",onClick:()=>t.open()})}),e.jsx(A,{title:"Logo",description:"El logo o logotipo un punto de identificación para tu negocio y es el símbolo utilizado para reconocerla. Te separa de la competencia y es el medio para transmitir tus valores y mostrar a los consumidores por qué no eres como tus competidores.",action:e.jsx(j,{label:"Editar",onClick:()=>n.open()})}),e.jsx(A,{title:"Categorías",description:"Las categorías permiten clasificar fácilmente las publicaciones por grupos predefinidos. Puedes crear, editar o eliminar categorías. Cada publicacion puede estar asociada a una o varias categorías. En la página de tu negocio, se podrá filtrar tus publicaciones por categorías muy facilmente.",action:e.jsx(j,{label:"Editar",onClick:()=>a.open()})}),e.jsx(A,{title:"Sobre mi negocio",description:"Mediante su página de presentación usted puede indentificar su tienda para que sus clientes conozcan sobre sus ventas y demás(TODO)",action:e.jsx(j,{label:"Editar",onClick:()=>o.open()})})]})},As=({backButton:s,title:t,children:o,topRightHeader:n})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[s&&e.jsx(Pe,{}),e.jsxs("div",{className:"flex w-full items-end sm:items-center justify-between",children:[t&&e.jsx("h1",{className:C("text-xl sm:text-2xl font-semibold my-1",{"ml-3":s}),children:t}),e.jsx("div",{className:"ml-auto",children:n})]})]}),o]}),Zs=()=>{const{params:s,query:t,onChangeQuery:o}=G(),{routeName:n}=s,a=I();d.useEffect(()=>{n&&a.onFetch({routeName:n})},[n]);const r=a.business,{isBusy:l,isFailed:c,wasCalled:m}=a.status;if(l)return e.jsx("div",{className:"flex items-center justify-center size-full",children:e.jsx(Se,{})});if(c&&m)return e.jsx(Oe,{to:"/dashboard/business"});if(!r||!n)return e.jsx(e.Fragment,{});const{name:p,hidden:g}=r;return e.jsx(As,{title:p,topRightHeader:e.jsxs("div",{className:"flex items-center gap-6",children:[g&&e.jsx("div",{className:"text-red-500 ring-1 ring-red-400 rounded-3xl px-2 py-1/2 text-sm sm:text-lg",children:"Oculto"}),e.jsx(ts,{business:r,onRefresh:()=>a.onFetch({routeName:n})})]}),children:e.jsx(Ee,{className:"mt-4",contentClassName:"w-full overflow-y-auto h-[calc(100vh-12rem)]",onSelect:i=>o({businessTab:i}),selected:t.businessTab,items:[{label:"Configuración",content:e.jsx(ks,{})},{label:"Publicaciones",content:e.jsx(gs,{routeName:n})},{label:"Grupos de publicaciones",content:e.jsx(fs,{routeName:n})},{label:"Órdenes de compras",content:e.jsx(Bs,{routeName:n})}]})})};export{Zs as RouteName};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Component-Na6olI55.js","assets/index-ih0eSx80.js","assets/index-l_Ec27-V.css","assets/index-q-MDlMmR.js","assets/Component-6ENBWncc.js","assets/useAddManyImages-wVxDWdmU.js","assets/useUpdateOneBusiness-pno-eXXt.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
