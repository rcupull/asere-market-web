import{r as u,X as D,al as U,Y as G,W as x,aQ as L,a5 as O,a6 as f,a7 as R,a8 as A,aP as I,a9 as C,au as M,at as w,j as a,n as j,H,J as K,k as W,w as Y,F as z,i as J,B as Q}from"./index-ih0eSx80.js";import{F as X}from"./index-TYhW_pDc.js";import{T as Z,p as q}from"./form-Ycfp73ce.js";import{G as _,w as V}from"./description-8TzrVJh3.js";import{B as ee,F as te}from"./label-5zIu1i7p.js";import{u as ae}from"./useUpdateOneBusiness-pno-eXXt.js";let y=u.createContext(null);y.displayName="GroupContext";let re=u.Fragment;function le(o){var e;let[t,r]=u.useState(null),[l,s]=te(),[c,i]=V(),m=u.useMemo(()=>({switch:t,setSwitch:r,labelledby:l,describedby:c}),[t,r,l,c]),h={},b=o;return f.createElement(i,{name:"Switch.Description"},f.createElement(s,{name:"Switch.Label",props:{htmlFor:(e=m.switch)==null?void 0:e.id,onClick(d){t&&(d.currentTarget.tagName==="LABEL"&&d.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},f.createElement(y.Provider,{value:m},C({ourProps:h,theirProps:b,defaultTag:re,name:"Switch.Group"}))))}let se="button";function ne(o,e){let t=U(),{id:r=`headlessui-switch-${t}`,checked:l,defaultChecked:s=!1,onChange:c,name:i,value:m,form:h,...b}=o,d=u.useContext(y),v=u.useRef(null),S=G(v,e,d===null?null:d.setSwitch),[p,g]=Z(l,c,s),k=x(()=>g==null?void 0:g(!p)),E=x(n=>{if(M(n.currentTarget))return n.preventDefault();n.preventDefault(),k()}),P=x(n=>{n.key===w.Space?(n.preventDefault(),k()):n.key===w.Enter&&q(n.currentTarget)}),T=x(n=>n.preventDefault()),B=u.useMemo(()=>({checked:p}),[p]),N={id:r,ref:S,role:"switch",type:L(o,v),tabIndex:0,"aria-checked":p,"aria-labelledby":d==null?void 0:d.labelledby,"aria-describedby":d==null?void 0:d.describedby,onClick:E,onKeyUp:P,onKeyPress:T},$=O();return u.useEffect(()=>{var n;let F=(n=v.current)==null?void 0:n.closest("form");F&&s!==void 0&&$.addEventListener(F,"reset",()=>{g(s)})},[v,g]),f.createElement(f.Fragment,null,i!=null&&p&&f.createElement(R,{features:A.Hidden,...I({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:h,checked:p,name:i,value:m})}),C({ourProps:N,theirProps:b,slot:B,defaultTag:se,name:"Switch"}))}let ie=D(ne),oe=le,ce=Object.assign(ie,{Group:oe,Label:ee,Description:_});const ue=({className:o,value:e,onChange:t,interaction:r="both"})=>{const[l,s]=u.useState(!1);u.useEffect(()=>{s(!!e)},[e]);const c=i=>{r==="onlyActivate"&&!i||r==="onlyDeactivate"&&i||(s(i),t==null||t(i))};return a.jsx(ce,{checked:l,onChange:c,className:j("bg-gray-200 relative inline-flex h-6 w-11 items-center rounded-full",{"!bg-blue-600":l},o),children:a.jsx("span",{className:j("translate-x-1 inline-block h-4 w-4 transform rounded-full bg-white transition",{"!translate-x-6":l})})})},de=o=>{const{label:e,className:t}=o,{field:r,error:l}=H(o),{value:s}=r;return a.jsx(K,{label:e,error:l,className:t,children:a.jsx(ue,{value:s,onChange:c=>{r.onChange({target:{name:r.name,value:c}})}})})},ge=({portal:o})=>{var c,i,m;const{business:e,onFetch:t}=W(),{onClose:r}=Y(),{updateOneBusiness:l}=ae();if(!e)return a.jsx(a.Fragment,{});const{routeName:s}=e;return a.jsx(a.Fragment,{children:a.jsx(z,{initialValues:{visible:((c=e==null?void 0:e.aboutUsPage)==null?void 0:c.visible)||!1,title:((i=e==null?void 0:e.aboutUsPage)==null?void 0:i.title)||"",description:((m=e==null?void 0:e.aboutUsPage)==null?void 0:m.description)||""},enableReinitialize:!0,onSubmit:()=>{},children:({values:h,isValid:b})=>a.jsxs("form",{className:"w-full",children:[a.jsx(de,{label:"Visible",name:"visible"}),a.jsx(J,{label:"Título de la página",name:"title",className:"mt-6"}),a.jsx(X,{label:"Descripción",name:"description",className:"mt-6",classNameContainer:"max-h-[50vh]"}),o.getPortal(a.jsx(Q,{label:"Guardar",isBusy:l.status.isBusy,disabled:!b,onClick:()=>{l.fetch({update:{aboutUsPage:h},routeName:s},{onAfterSuccess:()=>{t({routeName:s}),r()}})},variant:"primary",className:"w-full"}))]})})})};export{ge as Component};
