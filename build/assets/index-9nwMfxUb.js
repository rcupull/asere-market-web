import{b as p,g as j,c as b,e as P,r as F,f as N,h as y,j as e,C as v,B as i,F as C,i as c}from"./index-ih0eSx80.js";const k=()=>{const s=p();return{authForgotPasswordValidate:{data:s[0],status:s[1],fetch:(t,a={})=>{s[2]({method:"post",url:j({path:"/auth/forgot-password-validate"}),data:t},a)},reset:s[3]}}},E=()=>{const{params:s}=b(),{authForgotPasswordValidate:t}=k(),a=P(),{code:o}=s,[n,d]=F.useState(),l=N(),u=y(),m=e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"size-20 bg-green-100 text-green-500 rounded-full p-1"}),e.jsxs("span",{className:"text-2xl font-semibold text-center",children:["La contraseña fue restablecida correctamente"," "]}),e.jsx(i,{label:"Iniciar sesión",onClick:()=>a.open({email:n,redirect:"/"}),className:"!mt-8 !text-lg"})]}),x=e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Restablecer contraseña"})]}),e.jsxs("div",{className:"mt-10 w-full",children:[e.jsx(C,{initialValues:{newPassword:"",newPasswordAgain:""},onSubmit:()=>{},validate:r=>u(r,[{field:"newPassword",type:"required"},{field:"newPasswordAgain",type:"equal",equalField:"newPassword",message:"Las dos contraseña deben ser iguales"}]),children:({handleSubmit:r,isValid:g,values:h})=>e.jsxs("form",{onSubmit:r,children:[e.jsx(c,{id:"email",name:"newPassword",type:"password",label:"Nueva contraseña"}),e.jsx(c,{id:"email",name:"newPasswordAgain",type:"password",label:"Repetir contraseña",className:"mt-6"}),l.getPortal(e.jsx(i,{label:"Restablecer",isBusy:t.status.isBusy,disabled:!g,onClick:()=>{if(!o)return;const{newPassword:w}=h;t.fetch({code:o,newPassword:w},{onAfterSuccess:({email:f})=>{d(f)}})},className:"w-full mt-6"}))]})}),e.jsx("div",{ref:l.ref}),","]})]});return e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex flex-col items-center justify-center w-[30rem]",children:n?m:x})})};export{E as ForgotPassword};
