import{j as e,H as b,r as v,J as N,n as p,bh as g,bi as w,k as y,w as C,h as S,bj as F,F as P,O as f,i as V}from"./index-ih0eSx80.js";import{I as k,B as O}from"./index-8hchy7Y-.js";import{u as B,F as M,A as E,a as T}from"./index-LTXxtrN8.js";import{F as d}from"./index-Z1FoIn4o.js";import{C as D,u as L}from"./index-1EFKHw9-.js";import{u as I}from"./index-xolsbqEV.js";import"./index-b7vcoc-g.js";import"./index-ezD7gpb8.js";import"./radio-group-R5jNLVFN.js";import"./description-8TzrVJh3.js";import"./label-5zIu1i7p.js";import"./form-Ycfp73ce.js";import"./index-SWQFTGmj.js";import"./CheckIcon-GmkBleVb.js";import"./update-something-container-OFi8Bna5.js";import"./index-Oc-iVceo.js";import"./useUpdateOneBusiness-pno-eXXt.js";const z=["https://i.etsystatic.com/22218968/r/il/b43c35/4139110628/il_570xN.4139110628_l9ye.jpg","https://m.media-amazon.com/images/I/61qxynwQyzL.jpg","https://image.made-in-china.com/202f0j00TEwkYheJhbzH/Black-Shoes-for-Ladies-High-Quality-Handmade-Wholesale-Shoes-Women.webp","https://img.kwcdn.com/product/Fancyalgo/VirtualModelMatting/de2b9e4db6b27e94b7dab5c7509fc1b8.jpg?imageMogr2/auto-orient%7CimageView2/2/w/800/q/70/format/webp","https://c8.alamy.com/compes/2ay61fg/zapatos-negros-para-mujer-tacon-alto-sobre-fondo-blanco-2ay61fg.jpg"],A={name:"Zapatos de mujer",createdBy:"123",images:z.map(r=>({src:r,width:300,height:300})),description:"Zapatos de mujer de excelente calidad",_id:"_id",createdAt:new Date().toISOString(),currency:"CUP",price:256.789,discount:10,routeName:"routeName"},H=({postCardLayout:r})=>e.jsx(D,{neverUpdate:!0,href:"/",layout:r,post:A,whatsAppPhoneNumber:"5555555555"}),q=({className:r,label:t,collapsable:n,...l})=>{const{field:i,error:o}=b(l),{getFieldName:c,value:s}=B({field:i,initialValues:{images:"static",size:"medium",metaLayout:"basic",discount:"none",name:"basic",price:"smallerCurrency",shoppingMethod:void 0}}),[m,j]=v.useState(!1),x=e.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 items-center lg:items-start",children:[e.jsx("div",{className:"w-full px-6",children:e.jsxs("div",{className:"flex flex-col justify-around h-full gap-2",children:[e.jsx(d,{label:"Imágenes",name:c("images"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"static"},{value:"hoverZoom"},{value:"slider"},{value:"switch"},{value:"rounded"}],className:"w-full"}),e.jsx(d,{label:"Tamaño",name:c("size"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"small"},{value:"medium"},{value:"long"}],className:"w-full"}),e.jsx(d,{label:"Diseño de los metadatos",name:c("metaLayout"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"basic"},{value:"verticalCentered"}],className:"w-full"}),e.jsx(d,{label:"Nombre",name:c("name"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"none"},{value:"basic"}],className:"w-full"}),e.jsx(d,{label:"Precio",name:c("price"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"none"},{value:"basic"},{value:"smallerCurrency"},{value:"usdCurrencySymbol"}],className:"w-full"}),e.jsx(d,{label:"Descuento",name:c("discount"),renderOption:({value:a})=>a,renderValue:({value:a})=>a,optionToValue:({value:a})=>a,items:[{value:"none"},{value:"savedMoney"},{value:"savedPercent"}],className:"w-full"}),e.jsx(M,{label:"Método de compra",name:c("shoppingMethod"),className:"w-full"})]})}),m&&e.jsx("div",{className:"flex justify-center items-center w-96 flex-shrink-0 h-[25rem]",children:e.jsx("div",{className:"border border-dashed border-gray-400 w-fit h-fit",children:e.jsx(H,{postCardLayout:s})})})]});return e.jsx(N,{label:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{children:t}),e.jsx("div",{className:"text-indigo-500 cursor-pointer",onClick:()=>j(!m),children:`${m?"(Ocultar vista previa)":"(Mostrar vista previa)"}`})]}),error:o,className:p(r),children:n?e.jsx(E,{header:"Abrir",children:x}):x})},R=r=>e.jsx(d,{renderOption:({value:t})=>t,renderValue:({value:t})=>t,optionToValue:({value:t})=>t,items:[{value:"grid"},{value:"oneRowSlider"}],...r}),u=({className:r,active:t,onClick:n,children:l})=>e.jsx("div",{className:p("w-full h-24 border-2 bg-gray-200 rounded-md",{"border-gray-500":t},r),onClick:n,children:l}),U=({searchLayoutType:r,active:t})=>{const[n,l]=v.useState([]),i=L(),o=v.useRef(null);v.useEffect(()=>{switch(r){case"postCategories":return i([()=>l([2]),()=>l([2,6]),()=>l([2,6,9]),()=>l([2,9]),()=>l([9]),()=>l([])],1e3);case"postCategoriesScrollable":return i([()=>l([2]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:300,behavior:"smooth"})},()=>l([2,6]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:300,behavior:"smooth"})},()=>l([2,6,9]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:0,behavior:"smooth"})},()=>l([2,9]),()=>l([9]),()=>l([])],1e3);case"postCategoriesExcluded":return i([()=>l([2]),()=>l([6]),()=>l([9]),()=>l([])],1e3);case"postCategoriesExcludedScrollable":return i([()=>l([2]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:200,behavior:"smooth"})},()=>l([6]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:400,behavior:"smooth"})},()=>l([9]),()=>{var s;return(s=o.current)==null?void 0:s.scrollTo({left:0,behavior:"smooth"})},()=>l([])],1e3)}return i.cancel},[r]);const c=e.jsxs("div",{className:"w-40 flex gap-2",children:[e.jsx(u,{className:"!h-6",active:t}),e.jsx(u,{className:"!w-8 !h-6",active:t}),e.jsx(u,{className:"!w-8 !h-6",active:t})]});return r==="left"?e.jsx("div",{className:"flex justify-start",children:c}):r==="center"?e.jsx("div",{className:"flex justify-center",children:c}):r==="right"?e.jsx("div",{className:"flex justify-end",children:c}):r==="postCategories"?e.jsx("div",{className:"flex gap-2 flex-wrap",children:g(14).map(s=>e.jsx(u,{className:p("!w-12 !h-6",{"bg-gray-500":n.includes(s)}),active:t},s))}):r==="postCategoriesScrollable"?e.jsx("div",{ref:o,className:"flex gap-2 overflow-x-auto max-w-full",children:g(14).map(s=>e.jsx(u,{className:p("!w-12 !h-6 flex-shrink-0",{"bg-gray-500":n.includes(s)}),active:t},s))}):r==="postCategoriesExcluded"?e.jsx("div",{className:"flex gap-2 flex-wrap",children:g(14).map(s=>e.jsx(u,{className:p("!w-12 !h-6",{"bg-gray-500":n.includes(s)}),active:t},s))}):r==="postCategoriesExcludedScrollable"?e.jsx("div",{ref:o,className:"flex gap-2 overflow-x-auto max-w-full",children:g(14).map(s=>e.jsx(u,{className:p("!w-12 !h-6 flex-shrink-0",{"bg-gray-500":n.includes(s)}),active:t},s))}):e.jsx(e.Fragment,{})},_=({searchLayoutType:r,className:t})=>{const n=()=>e.jsx(u,{className:"!h-30 flex items-center justify-center",children:"Banner"}),l=()=>e.jsx("div",{className:"flex flex-wrap gap-2 justify-between mt-5",children:g(8).map(o=>e.jsx(u,{className:"!w-full sm:!w-16 !h-16 flex items-center justify-center",children:"Post"},o))}),i=()=>e.jsx(u,{className:"h-10 flex items-center justify-center",children:"Footer"});return e.jsxs("div",{className:p("p-4 flex flex-col items-center gap-4 ring-1 ring-gray-400 m-1 rounded-md",t),children:[n(),e.jsxs("div",{className:"w-full sm:w-10/12",children:[e.jsx(U,{searchLayoutType:r,active:!0}),l()]}),i()]})},W=r=>{const{className:t,...n}=r,{label:l}=n,[i,o]=v.useState(!1),{field:c}=b(r);return e.jsxs("div",{className:p("flex flex-col lg:flex-row gap-2 items-center lg:items-start",t),children:[e.jsx(d,{renderOption:({tag:s})=>w(s),renderValue:({tag:s})=>w(s),optionToValue:({tag:s})=>s,items:[{tag:"none"},{tag:"left"},{tag:"center"},{tag:"right"},{tag:"postCategories"},{tag:"postCategoriesScrollable"},{tag:"postCategoriesExcluded"},{tag:"postCategoriesExcludedScrollable"}],...r,label:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{children:l}),e.jsx("div",{className:"text-indigo-500 cursor-pointer",onClick:()=>o(!i),children:`${i?"(Ocultar vista previa)":"(Mostrar vista previa)"}`})]})}),i&&e.jsx(_,{searchLayoutType:c.value,className:"w-full lg:w-8/12 max-w-96 flex-shrink-0"})]})},Z=r=>{const{label:t,className:n,oposite:l,title:i}=r,{field:o,error:c}=b(r),{value:s}=o;return e.jsx(N,{label:t,error:c,className:n,children:e.jsx(k,{hidden:l?!s:s,title:i,onClick:m=>{m.preventDefault(),o.onChange({target:{name:o.name,value:!s}})}})})},ue=({portal:r,sectionId:t})=>{const{business:n,onFetch:l}=y(),{onClose:i}=C(),o=I(n),c=S();if(!n)return e.jsx(e.Fragment,{});const{routeName:s}=n,m=()=>{l({routeName:s}),i()},{section:j}=t&&F({business:n,sectionId:t})||{};return e.jsx(P,{initialValues:{name:"",postCardLayout:void 0,postCategoriesTags:[],searchLayout:void 0,type:"grid",showIn:[],...j||{}},enableReinitialize:!0,onSubmit:()=>{},validate:x=>c(x,[{field:"name",type:"required"}]),children:({values:x,isValid:a})=>e.jsxs("form",{children:[e.jsx(d,{label:"Mostrar grupo en",renderOption:({value:h})=>h,renderValue:({value:h})=>e.jsx("div",{className:"rounded-2xl px-2 border border-gray-400",children:h}),optionToValue:({value:h})=>h,items:[{value:"businessPage"},{value:"postPage"}],multi:!0,name:"showIn",className:"w-full"}),e.jsx(f,{}),e.jsx(V,{name:"name",label:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Nombre"}),e.jsx(Z,{name:"hiddenName",title:`${x.hiddenName?"Mostrar":"Ocultar"} el nombre del grupo.`})]}),className:"w-full"}),e.jsx(f,{}),e.jsx(R,{name:"type",label:"Diseño",className:"w-full"}),e.jsx(f,{}),e.jsx(T,{label:"Categorías",name:"postCategoriesTags"}),e.jsx(f,{}),e.jsx(W,{name:"searchLayout",label:"Diseño de búsqueda",className:"w-full"}),e.jsx(f,{}),e.jsx(q,{label:"Diseño de las tarjetas de publicaciones",name:"postCardLayout",className:"w-full"}),e.jsx(f,{}),r.getPortal(e.jsx(O,{isBusy:o.status.isBusy,disabled:!a,onClick:()=>t?o.updatePostsLayoutSection({value:x,sectionId:t},{onAfterSuccess:m}):o.addPostsLayoutSection({value:x},{onAfterSuccess:m}),variant:"primary",className:"w-full"}))]})})};export{ue as Component};
