import{b as j,g as w,e as C,w as l,h as b,j as e,F as y,i as t,B as i,x as N}from"./index-ih0eSx80.js";import{F as v}from"./index-SWQFTGmj.js";const B=()=>{const s=j();return{authSignUp:{data:s[0],status:s[1],fetch:(a,o={})=>{s[2]({method:"post",url:w({path:"/auth/sign-up"}),data:a},o)},reset:s[3]}}},k=({portal:s})=>{const{authSignUp:a}=B(),o=C(),{onClose:n,pushModal:m}=l(),c=b();return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Registrarse"})]}),e.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx(y,{initialValues:{email:"",password:"",confirmPassword:"",name:"",canCreateBusiness:!1},validate:r=>c(r,[{field:"email",type:"required"},{field:"email",type:"email"},{field:"password",type:"required"},{field:"name",type:"required"},{field:"confirmPassword",type:"equal",equalField:"password"}]),onSubmit:()=>{},children:({handleSubmit:r,isValid:d,values:u})=>e.jsxs("form",{onSubmit:r,children:[e.jsx(t,{id:"name",name:"name",autoComplete:"name",label:"Nombre"}),e.jsx(t,{id:"email",name:"email",type:"email",autoComplete:"email",label:"Correo electrónico",className:"mt-6"}),e.jsx("div",{className:"relative",children:e.jsx(t,{id:"password",name:"password",type:"password",autoComplete:"password",label:"Contraseña",className:"mt-6"})}),e.jsx(t,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirmar contraseña",className:"mt-6"}),e.jsx(v,{name:"canCreateBusiness",label:"Propietario de negocios",className:"mt-6"}),s.getPortal(e.jsx(i,{label:"Registrarse",isBusy:a.status.isBusy,disabled:!d,onClick:()=>{const{email:p,password:x,name:f,canCreateBusiness:g}=u;a.fetch({email:p,password:x,name:f,canCreateBusiness:g},{onAfterSuccess:()=>{n(),m("Confirmation",{useProps:()=>{const{onClose:h}=l();return{className:"max-w-lg",content:"Se ha registrado exitosamente pero debe confirmar su correo para poder iniciar sesión. Revise el enlace enviado a su correo para confirmar el registro.",badge:e.jsx(N,{variant:"success"}),customBtn:e.jsx(i,{label:"Entendido",className:"ml-auto",onClick:()=>{h()}}),primaryBtn:e.jsx(e.Fragment,{}),secondaryBtn:e.jsx(e.Fragment,{})}}},{emergent:!0})}})},className:"w-full"})),e.jsx("div",{className:"w-100 text-sm flex pt-4",children:e.jsx(i,{variant:"link",label:"Iniciar sesión",onClick:()=>{n(),setTimeout(()=>o.open(),50)}})})]})})})]})};export{k as Component};
