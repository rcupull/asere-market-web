import{k as f,w as F,r as x,j as s,F as B,t as j,B as y}from"./index-ih0eSx80.js";import{u as I,F as b}from"./useAddManyImages-wVxDWdmU.js";import{u as h}from"./useUpdateOneBusiness-pno-eXXt.js";const A=({portal:l})=>{const{business:o,onFetch:m}=f(),{onClose:c}=F(),{logo:t,routeName:e}=o||{},{updateOneBusiness:a}=h(),{addManyImages:n}=I(),i=x.useMemo(()=>({logoField:[t]}),[t]);return e?s.jsx(B,{initialValues:i,onSubmit:()=>{},enableReinitialize:!0,children:({values:r,isValid:d})=>s.jsxs("form",{children:[s.jsx(b,{id:"logoField",name:"logoField",className:"mt-6",getImageSrc:j}),l.getPortal(s.jsx(y,{label:"Guardar",isBusy:a.status.isBusy||n.status.isBusy,disabled:!d||i.logoField===r.logoField,onClick:()=>{if(!o)return;const{logoField:g}=r,[u]=g;u&&n.fetch({images:[u],routeName:e,userId:o.createdBy},{onAfterSuccess:([p])=>{a.fetch({update:{logo:p},routeName:e},{onAfterSuccess:()=>{m({routeName:e}),c()}})}})},variant:"primary",className:"w-full"}))]})}):s.jsx(s.Fragment,{})};export{A as Component};
