import{b as w,g as D,k as U,w as i,f as v,r as B,h as P,j as e,F as E,i as j,B as k,aH as h,aI as V,n as y,aF as F,x as C,aJ as R,G as S,aK as I}from"./index-OtumRKpY.js";import{B as A}from"./index-HuTyk_wu.js";import{I as q,B as M}from"./index-OawDmVDY.js";const G=()=>{const t=w();return{updateBusinessPostCategories:{data:t[0],status:t[1],fetch:({routeName:o,postCategories:u},l={})=>{t[2]({method:"put",url:D({path:"/business/:routeName/postCategories",urlParams:{routeName:o}}),data:{postCategories:u}},l)},reset:t[3]}}},K=({portal:t})=>{const{business:o,onFetch:u}=U(),{onClose:l}=i(),{routeName:d}=o||{},b=(o==null?void 0:o.postCategories)||[],g=v(),{updateBusinessPostCategories:f}=G(),[a,c]=B.useState(b),{pushModal:N}=i(),x=P();return d?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex",children:[e.jsxDEV(E,{initialValues:{label:""},validate:n=>x(n,[{field:"label",type:"required"},{field:"label",type:"custom",message:"Esa categoría ya existe.",customCb:r=>!a.map(({label:m})=>m).includes(r)}]),onSubmit:()=>{},children:({values:n,isValid:r,resetForm:m})=>e.jsxDEV("form",{className:"w-full",children:[e.jsxDEV(j,{id:"postCategoryLabel",name:"label",placeholder:'Escriba una nueva categoría, ej. "Productos en oferta", "Recientes", etc"'},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:78,columnNumber:17},void 0),g.getPortal(e.jsxDEV(k,{label:"Agregar categoría",disabled:!r,stopPropagation:!0,onClick:()=>{const{label:s}=n;c(h(a,{label:s,tag:V(s)})),m()},variant:"primary",className:"ml-4"},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:85,columnNumber:19},void 0))]},void 0,!0,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:77,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV("div",{ref:g.ref},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:52,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex flex-wrap mt-3 gap-3 border border-gray-300 rounded-md p-3 ",children:a.map((n,r)=>{const{label:m,hidden:s}=n;return e.jsxDEV("div",{className:y("flex items-center gap-2 border border-gray-400 rounded-md p-2",{"bg-gray-200":s}),children:[m,e.jsxDEV(F,{className:"text-gray-600 hover:text-gray-800 cursor-pointer",onClick:()=>{N("Confirmation",{useProps:()=>{const{onClose:p}=i();return{content:e.jsxDEV("div",{children:["Al eliminar una categoría estará removiendo esta clasificación de todas las publicaciones de su negocio y es un cambio irreversible. Seguro que desea eliminar la categoría"," ",e.jsxDEV("span",{className:"font-bold",children:m},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:137,columnNumber:31},void 0),"?"]},void 0,!0,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:133,columnNumber:29},void 0),badge:e.jsxDEV(C,{variant:"error"},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:140,columnNumber:34},void 0),primaryBtn:e.jsxDEV(A,{label:"Eliminar",onClick:()=>{c(R(a,r)),p()}},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:142,columnNumber:29},void 0)}}},{emergent:!0})}},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:122,columnNumber:15},void 0),e.jsxDEV(q,{hidden:s,onClick:()=>{N("Confirmation",{useProps:()=>{const{onClose:p}=i();return{title:`${s?"Mostrar":"Ocultar"} categoría`,content:e.jsxDEV(e.Fragment,{children:s?e.jsxDEV("div",{children:"Usted está mostrando esta categoría y podrá ser usada para filtrar sus publicaciones en la página de su negocio. Desea continuar?"},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:172,columnNumber:33},void 0):e.jsxDEV("div",{children:"Usted está ocultando esta categoría y no será visible en el filtro por categorias en la página de su negocio. Desea continuar?"},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:177,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:170,columnNumber:29},void 0),badge:e.jsxDEV(C,{variant:"info"},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:184,columnNumber:34},void 0),primaryBtn:e.jsxDEV(k,{label:"Continuar",onClick:()=>{c(S(a,{...n,hidden:!s},r)),p()}},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:186,columnNumber:29},void 0)}}},{emergent:!0})}},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:158,columnNumber:15},void 0)]},r,!0,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:115,columnNumber:13},void 0)})},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:111,columnNumber:7},void 0),t.getPortal(e.jsxDEV(M,{disabled:I(a,b),isBusy:f.status.isBusy,onClick:()=>{f.fetch({postCategories:a,routeName:d},{onAfterSuccess:()=>{u({routeName:d}),l()}})}},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:207,columnNumber:9},void 0))]},void 0,!0,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:51,columnNumber:5},void 0):e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"/Users/mac/Documents/work/asere-market/asere-market-web/src/pages/@modals/useBusinessUpdatePostCategories/Component.tsx",lineNumber:47,columnNumber:12},void 0)};export{K as Component};
