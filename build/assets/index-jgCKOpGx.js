import{r as b,H as j,j as r,J as S,n as h,K as N,aJ as k,aH as w}from"./index-ih0eSx80.js";import{i as o}from"./radio-group-R5jNLVFN.js";const y={white:{name:"white",bgColor:"bg-white",selectedRingColor:"ring-gray-400"},gray:{name:"gray",bgColor:"bg-gray-200",selectedRingColor:"ring-gray-400"},black:{name:"black",bgColor:"bg-gray-900",selectedRingColor:"ring-gray-900"}},C=["XXS","XS","S","M","L","XL","2XL","3XL"],F=d=>{const[s,i]=b.useState(),{label:f,className:p,sizesInStock:l,multi:c}=d,{field:a,error:g}=j(d),{value:m}=a;b.useEffect(()=>{i(m)},[m]);const u=l||C,v=e=>{if(c){let n=s||[];const t=n.findIndex(x=>x===e);N(t)&&t>=0?n=k(n,t):n=w(n,e),i(n),a.onChange({target:{name:a.name,value:n}})}else i(e),a.onChange({target:{name:a.name,value:e}})};return r.jsx(S,{label:f,error:g,className:p,children:r.jsxs(o,{onBlur:e=>{e.target.name=a.name,a.onBlur(e)},children:[r.jsx(o.Label,{className:"sr-only",children:"Choose a size"}),r.jsx("div",{className:"grid grid-cols-4 gap-4 sm:grid-cols-8 lg:grid-cols-4",children:C.map(e=>{const n=c?s==null?void 0:s.find(x=>x===e):s===e,t=u==null?void 0:u.includes(e);return r.jsxs(o.Option,{value:e,disabled:!t,onClick:()=>v(e),className:h("cursor-not-allowed bg-gray-50 text-gray-200 group relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 sm:py-6",{"cursor-pointer bg-white text-gray-900 shadow-sm":t,"ring-2 ring-indigo-500":n,"ring-1 rounded-md ring-red-500 focus:ring-red-500":!!g}),children:[r.jsx(o.Label,{as:"span",children:e}),t?r.jsx("span",{className:h(n?"border":"border-2",n?"border-indigo-500":"border-transparent","pointer-events-none absolute -inset-px rounded-md"),"aria-hidden":"true"}):r.jsx("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-md border-2 border-gray-200",children:r.jsx("svg",{className:"absolute inset-0 h-full w-full stroke-2 text-gray-200",viewBox:"0 0 100 100",preserveAspectRatio:"none",stroke:"currentColor",children:r.jsx("line",{x1:0,y1:100,x2:100,y2:0,vectorEffect:"non-scaling-stroke"})})})]},e)})})]})})},X=d=>{const[s,i]=b.useState(),{label:f,className:p,items:l,multi:c}=d,{field:a,error:g}=j(d),{value:m}=a;b.useEffect(()=>{i(m)},[m]);const u=e=>{if(c){let n=s||[];const t=n.findIndex(x=>x===e);N(t)&&t>=0?n=k(n,t):n=w(n,e),i(n),a.onChange({target:{name:a.name,value:n}})}else i(e),a.onChange({target:{name:a.name,value:e}})},v=b.useMemo(()=>l!=null&&l.length?(l==null?void 0:l.map(e=>y[e]))||[]:Object.values(y),[l]);return r.jsx(S,{label:f,error:g,className:p,children:r.jsxs(o,{onBlur:e=>{e.target.name=a.name,a.onBlur(e)},children:[r.jsx(o.Label,{className:"sr-only",children:"Choose a color"}),r.jsx("div",{className:"flex items-center space-x-3",children:v.map(e=>{const n=c?s==null?void 0:s.find(t=>t===e.name):s===e.name;return r.jsxs(o.Option,{value:e,onClick:()=>u(e.name),className:h(e.selectedRingColor,{"ring-2 ring-indigo-600":n,"ring-2 ring-red-500":!!g},"relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 focus:outline-none"),children:[r.jsx(o.Label,{as:"span",className:"sr-only",children:e.name}),r.jsx("span",{"aria-hidden":"true",className:h(e.bgColor,"h-8 w-8 rounded-full border border-black border-opacity-10")})]},e.name)})})]})})};export{X as F,F as a};
