import{r as o,X as V,al as X,W as h,Y,b2 as oe,a5 as ie,a6 as $,a7 as le,a8 as ue,aP as se,a9 as q,b3 as pe,aL as de,aj as ce,a1 as fe,aR as me,at as k,a3 as j,a4 as S,af as K,au as J,aW as ve}from"./index-OtumRKpY.js";import{G as Re,w as z}from"./description-xrSyH_28.js";import{B as be,F as Q}from"./label-IraI5jSS.js";import{T as ge,e as Ee,p as $e}from"./form-gCruAkS1.js";var he=(r=>(r[r.RegisterOption=0]="RegisterOption",r[r.UnregisterOption=1]="UnregisterOption",r))(he||{});let ye={0(r,t){let a=[...r.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...r,options:ve(a,c=>c.element.current)}},1(r,t){let a=r.options.slice(),c=r.options.findIndex(f=>f.id===t.id);return c===-1?r:(a.splice(c,1),{...r,options:a})}},B=o.createContext(null);B.displayName="RadioGroupDataContext";function Z(r){let t=o.useContext(B);if(t===null){let a=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Z),a}return t}let H=o.createContext(null);H.displayName="RadioGroupActionsContext";function ee(r){let t=o.useContext(H);if(t===null){let a=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ee),a}return t}function ke(r,t){return fe(t.type,ye,r,t)}let Ce="div";function Oe(r,t){let a=X(),{id:c=`headlessui-radiogroup-${a}`,value:f,defaultValue:v,form:P,name:A,onChange:y,by:C=(e,l)=>e===l,disabled:O=!1,...U}=r,R=h(typeof C=="string"?(e,l)=>{let i=C;return(e==null?void 0:e[i])===(l==null?void 0:l[i])}:C),[T,w]=o.useReducer(ke,{options:[]}),u=T.options,[L,D]=Q(),[b,G]=z(),x=o.useRef(null),W=Y(x,t),[s,I]=ge(f,y,v),p=o.useMemo(()=>u.find(e=>!e.propsRef.current.disabled),[u]),g=o.useMemo(()=>u.some(e=>R(e.propsRef.current.value,s)),[u,s]),d=h(e=>{var l;if(O||R(e,s))return!1;let i=(l=u.find(E=>R(E.propsRef.current.value,e)))==null?void 0:l.propsRef.current;return i!=null&&i.disabled?!1:(I==null||I(e),!0)});oe({container:x.current,accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let _=h(e=>{let l=x.current;if(!l)return;let i=me(l),E=u.filter(n=>n.propsRef.current.disabled===!1).map(n=>n.element.current);switch(e.key){case k.Enter:$e(e.currentTarget);break;case k.ArrowLeft:case k.ArrowUp:if(e.preventDefault(),e.stopPropagation(),j(E,S.Previous|S.WrapAround)===K.Success){let n=u.find(F=>F.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break;case k.ArrowRight:case k.ArrowDown:if(e.preventDefault(),e.stopPropagation(),j(E,S.Next|S.WrapAround)===K.Success){let n=u.find(F=>F.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break;case k.Space:{e.preventDefault(),e.stopPropagation();let n=u.find(F=>F.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break}}),m=h(e=>(w({type:0,...e}),()=>w({type:1,id:e.id}))),M=o.useMemo(()=>({value:s,firstOption:p,containsCheckedOption:g,disabled:O,compare:R,...T}),[s,p,g,O,R,T]),re=o.useMemo(()=>({registerOption:m,change:d}),[m,d]),te={ref:W,id:c,role:"radiogroup","aria-labelledby":L,"aria-describedby":b,onKeyDown:_},ae=o.useMemo(()=>({value:s}),[s]),N=o.useRef(null),ne=ie();return o.useEffect(()=>{N.current&&v!==void 0&&ne.addEventListener(N.current,"reset",()=>{d(v)})},[N,d]),$.createElement(G,{name:"RadioGroup.Description"},$.createElement(D,{name:"RadioGroup.Label"},$.createElement(H.Provider,{value:re},$.createElement(B.Provider,{value:M},A!=null&&s!=null&&Ee({[A]:s}).map(([e,l],i)=>$.createElement(le,{features:ue.Hidden,ref:i===0?E=>{var n;N.current=(n=E==null?void 0:E.closest("form"))!=null?n:null}:void 0,...se({key:e,as:"input",type:"radio",checked:l!=null,hidden:!0,readOnly:!0,form:P,name:e,value:l})})),q({ourProps:te,theirProps:U,slot:ae,defaultTag:Ce,name:"RadioGroup"})))))}var Te=(r=>(r[r.Empty=1]="Empty",r[r.Active=2]="Active",r))(Te||{});let we="div";function Ge(r,t){var a;let c=X(),{id:f=`headlessui-radiogroup-option-${c}`,value:v,disabled:P=!1,...A}=r,y=o.useRef(null),C=Y(y,t),[O,U]=Q(),[R,T]=z(),{addFlag:w,removeFlag:u,hasFlag:L}=pe(1),D=de({value:v,disabled:P}),b=Z("RadioGroup.Option"),G=ee("RadioGroup.Option");ce(()=>G.registerOption({id:f,element:y,propsRef:D}),[f,G,y,D]);let x=h(m=>{var M;if(J(m.currentTarget))return m.preventDefault();G.change(v)&&(w(2),(M=y.current)==null||M.focus())}),W=h(m=>{if(J(m.currentTarget))return m.preventDefault();w(2)}),s=h(()=>u(2)),I=((a=b.firstOption)==null?void 0:a.id)===f,p=b.disabled||P,g=b.compare(b.value,v),d={ref:C,id:f,role:"radio","aria-checked":g?"true":"false","aria-labelledby":O,"aria-describedby":R,"aria-disabled":p?!0:void 0,tabIndex:p?-1:g||!b.containsCheckedOption&&I?0:-1,onClick:p?void 0:x,onFocus:p?void 0:W,onBlur:p?void 0:s},_=o.useMemo(()=>({checked:g,disabled:p,active:L(2)}),[g,p,L]);return $.createElement(T,{name:"RadioGroup.Description"},$.createElement(U,{name:"RadioGroup.Label"},q({ourProps:d,theirProps:A,slot:_,defaultTag:we,name:"RadioGroup.Option"})))}let xe=V(Oe),Fe=V(Ge),Ie=Object.assign(xe,{Option:Fe,Label:be,Description:Re});export{Ie as i};
